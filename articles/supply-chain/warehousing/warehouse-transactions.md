---
title: Warehouse-specific inventory transactions
description: Warehouse-specific inventory transactions are database records that store information about how inventory is stored and moved around in the warehouse. Warehouse transaction records are highly optimized for warehouse operations.
author: perlynne
ms.author: perlynne
ms.reviewer: kamaybac
ms.search.form: WHSParameters, WHSWarehouseTransactions
ms.topic: how-to
ms.date: 01/31/2023
audience: Application User
ms.search.region: Global
ms.custom: bap-template
---

# Warehouse-specific inventory transactions

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]
<!-- KFM: Preview until further notice -->

Warehouse-specific inventory transactions (hereafter, *warehouse transactions*) are database records that store information about how inventory is stored and moved around in the warehouse. Warehouse transaction records are highly optimized for warehouse operations. In versions of Supply Chain Management before 10.0.32, the system used a single type of standard inventory transactions (hereafter, *inventory transactions*) both for warehouse operations and other types of inventory transactions, but in newer systems, we recommend using warehouse transactions where they apply (though inventory transactions are still used to support other functionality). For warehouse operations, warehouse transactions provide many benefits compared to inventory transactions, including:

- Significantly improved warehouse operation performance, especially for scenarios that include large numbers of serial or batch numbers (tracking dimensions).
- Improved scalability made possible by reducing the number of inventory transaction records required to support warehouse operations. Standard inventory transactions generate many more records, which can place a heavy load on the database.

## How warehouse transactions compare to inventory transactions

Warehouse transactions are different from inventory transactions in several ways. The key differences are:

- Warehouse transactions can operate on items in bulk. This means that a single warehouse transaction is able to reserve, issue, or receive a set of items with different serial or batch numbers. This capability enables the system to avoid repeated validations and use efficient set-based operations. It also reduces the amount of data generated by the system because the item sets can be reused, thus avoiding recording the same information multiple times.
- Warehouse transactions don't hold any financial or cost information. They are only used in warehouse operations, which don't have any financial impact. This change significantly reduces the number of fields, indexes, and validations required in the database. For warehouse operations that have a financial impact (such as counting, adjust-in, or adjust-out), the system still relies on inventory transactions.
- Warehouse transactions are immutable, so except for a few system processes, they are never updated or deleted. This property allows for more predictable system performance because it avoids splitting the transactions. It also allows for a more detailed audit log of what happened in the system, which can come in useful during investigations.
- Warehouse transactions are frequently archived, which helps keep the warehouse transactions table small. This feature also allows the system to implement different data models for active and completed transactions. The former is optimized for inserts (which is critical for fast mobile device operations) while the latter is optimized for querying.

## Prerequisites

To use this feature, the following prerequisites must be in place:

- You must update any customizations that rely on inventory transactions that will now be replaced with warehouse transactions. For details, see [Audit and update your customizations to support warehouse transactions](#audit-customizations).
- You must be running Microsoft Dynamics 365 Supply Chain Management 10.0.32 or later.
- The feature that is named *(Preview) Warehouse-specific inventory transactions* must be turned on in [feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md).

## <a name="audit-customizations"></a>Audit and update your customizations to support warehouse transactions

After you enable the *Warehouse-specific inventory transactions* feature, the following changes will occur in your system:

- The system will no longer generate inventory transactions for warehouse operations and will instead use warehouse transactions. It affects only those warehouse scenarios that you configure to use the warehouse transactions (see also [Choose which scenarios should use warehouse transactions](#choose-scenarios)). This means that any customizations and extensions that rely on the relevant inventory transactions for warehouse operations must be changed.
- Several existing methods will no longer be called when processing warehouse operations.

When you attempt to enable the feature, the system performs a set of checks to identify extensions that may break because of these changes. If any issues are found, an error message will be shown to identify the extension and how it needs to be updated. If you see such a message when trying to enable the feature:

1. Contact your developer or Microsoft partner and ask them to review the relevant extensions and make the required fixes.
1. Declare the module containing the problematic extension as *validated*. This is done by extending the `buildValidatedModuleSet()` method in the `WHSWarehouseInventoryTransactionFeatureExtensionValidator` class and adding the name of the module containing a flagged extension into the set.
1. Deploy the updated module. The feature validator will then allow you to activate the feature.

> [!CAUTION]
> The feature validator won't detect all possible problems. For example, it can't detect whether an extension is reading inventory transactions related to warehouse work (those won't exist anymore).

## <a name="choose-scenarios"></a>Choose which scenarios should use warehouse transactions

The system lets you choose which scenarios will use warehouse transactions. For example, you can choose to use the new warehouse transactions for warehouse movements to start with but keep using inventory transactions for all other operations. This flexibility allows organizations using a system that was customized before the *Warehouse-specific inventory transactions* feature was enabled to gradually move towards using warehouse transactions, starting with the least customized scenarios or the ones where performance improvements are most needed.

To choose which scenarios should use warehouse transactions, follow these steps:

1. Go to **Warehouse management \> Setup \> Warehouse management parameters**.
1. On the **General** tab, expand the **Warehouse inventory transaction mechanism** FastTab.
1. For each listed scenario where you want to use warehouse transactions, mark the **Use warehouse inventory transactions** checkbox. All scenarios where this checkbox isn't selected will continue to use inventory transactions.
1. Select **Save** on the Action Pane.

Some warehouse work types are just wrappers around other system processes (like adjust-in/adjust-out and counting operations) and will continue to use inventory transactions. Those operations change the on-hand inventory on all the inventory dimensions and therefore have a financial impact.

Source document transactions will still be represented using inventory transactions (records in the `InventTrans` table) and will continue to use the inventory stack. In the sales picking scenario, for example, the reservation that is related to the sales line will still be represented as an inventory transaction. However, when you release a sales order to the warehouse, the work that is created will use warehouse transactions. When the work is completed, the sales line's inventory transaction will be updated to *Picked* status and all specific dimension values will be assigned, just as if the work had used inventory transactions.

## Review warehouse transactions

Both warehouse transactions and inventory transactions are shown on the **Warehouse transactions** page (the **Inventory transactions** page only lists inventory transactions). Therefore, only the **Warehouse transactions** page shows all the transactions related to your warehouse operations. You can access the **Warehouse transactions** page from several places in the system, including the **On-hand** pages, the **Warehouse inventory transactions** page, and others. The purpose of the page is to show all the transactions relevant to managing the warehouse. It does not show inventory transactions of *Ordered* or*On order* status.

Let's take a sales picking scenario as an example. To view all transactions related to the sales order, you must open the **Warehouse transactions** page. It will show both the sales order inventory transactions and work-related warehouse transactions. The **Inventory transactions** page will only show the sales order transactions.

For example, open the **Warehouse transactions** page from the **On-hand** page for a selected product, follow these steps:

1. Go to **Product information management \> Products \> Released products**.
1. Select a released product.
1. On the Action Pane, open the **Manage inventory** tab and, from the **View** group, select **On-hand inventory**.
    > [!NOTE]
    > To see *all* transactions for the selected product, you could instead select **Warehouse transactions** here.
1. The **On-hand** page opens. Choose the row that shows the on-hand inventory that you want to inspect.
1. On the Action Pane, select **Warehouse transactions**.

The functionality of the **Warehouse transactions** page is similar to the **Inventory transactions** page. However, it only gives access to functionality that applies to warehouse operations. The **Warehouse transactions** page lets you do the following actions:

- To choose which inventory dimensions to display, select **Display dimensions** on the Action Pane.
- To view all transactions with the same inventory dimensions as a selected row, open the **Inventory** tab on the Action Pane and then select **Warehouse transactions for dimensions**.
- To trace inventory dimensions for a selected row, open the **Inventory** tab on the Action Pane and then select **Trace**. The **Trace inventory dimensions** page opens.
- To view batch attribute details for a selected row, open the **Inventory** tab on the Action Pane and then select **Inventory batch attributes**.

## Archive warehouse transactions

The nature of warehouse transactions is slightly different than that of inventory transactions. This allows the system to archive warehouse transactions more often than inventory transactions. Whenever warehouse work is completed (closed or canceled), the system will archive all the related warehouse transactions. The archived warehouse transactions are still available through the user interface, just as non-archived transactions, but they are moved from the storage optimized for fast inserts (active transactions) to the storage optimized for querying (archived transactions). The system is aware of this distinction and takes the archived warehouse transactions into account (for example, when doing on-hand recalculation consistency checks or using the **Trace inventory dimensions** page).

The archival procedure is implemented by the *Archive warehouse inventory transactions* process automation background process. It is registered automatically when you enable the*Warehouse-specific inventory transactions* feature. By default, it runs every 10 minutes, but system administrators can change the recurrence properties based on the actual system usage.

To change the recurrence properties of the *Archive warehouse inventory transactions* process, follow these steps:

1. Go to **System Administration \> Setup \> Process Automations**.
1. Open the **Background Processes** tab.
1. In the grid, select the row where **Name** is *Archive warehouse inventory transactions*.
1. Select **Edit** on the grid toolbar.
1. The **Edit background process** dialog opens. Review and edit the configuration as needed and select **OK**.

To review the history of the *Archive warehouse inventory transactions* process execution, follow these steps:

1. Go to **System Administration \> Setup \> Process Automations**.
1. Open the **Background Processes** tab.
1. In the grid, select the row where **Name** is *Archive warehouse inventory transactions*.
1. Select **View most recent results** on the grid toolbar.
1. The **Execution results** dialog opens showing a list of each process execution. Here you can see whether each process succeeded and view its execution log.

## Additional resources

- For more information about this feature, consider joining the [Warehouse Inventory Transactions](https://www.yammer.com/dynamicsaxfeedbackprograms/#/threads/inGroup?type=in_group&feedId=120106196992&view=all) Yammer group, where you can find useful guides, get our latest updates, and post any questions you may have about using warehouse transactions.
